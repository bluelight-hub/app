= ADR-001: Verbindungskonzept-Architektur
:author: Bluelight-Hub Team
:revnumber: 1.0.0
:revdate: 2025-03-23
:

== Status

In Prüfung (Stand: 2025-03-23)

== Kontext

Bluelight-Hub muss in Einsatzszenarien funktionieren, in denen verschiedene Konnektivitätsszenarien auftreten können:

* *Lokales Verbindungsszenario*: Konnektivitätszustand, bei dem ein Client mit dem xref:../12-glossary.adoc[Führungskraftwagen (FüKW)]-Server verbunden ist, aber keine Internetverbindung besteht. Dies ist der Standardmodus im Einsatz und wird auch als "FüKW-verbunden" bezeichnet. In diesem Modus ist die volle lokale Funktionalität verfügbar.

* *Vollständiges Verbindungsszenario*: Konnektivitätszustand, bei dem der FüKW-Server mit dem Internet verbunden ist und dadurch erweiterte Online-Funktionen zur Verfügung stehen.

* *Autonomes Verbindungsszenario* (geplant): Zustand eines Clients, wenn keine Verbindung zum FüKW-Server besteht. In diesem Modus arbeitet der Client mit reduziertem Funktionsumfang und speichert Daten lokal, bis eine Verbindung wiederhergestellt werden kann.

== Optionen

. *Online-Optimiert mit lokalem Fallback*: Primär für Internetverbindung optimiert, bei Verbindungsverlust auf lokale Verbindung zum FüKW beschränkt.
. *Verbindungskonzept mit definierten Konnektivitätsszenarien*: System unterstützt verschiedene Szenarien: lokale Verbindung (offline), vollständige Verbindung (online) und zukünftig autonomer Modus.
. *Hybridansatz*: Teilweise Funktionalität bei lokaler Verbindung, vollständige Funktionalität nur bei Internetverbindung.

== Entscheidung

Wir haben uns für Option 2 (Verbindungskonzept mit definierten Konnektivitätsszenarien) entschieden.

== Begründung

* Hohe Zuverlässigkeit in verschiedenen Einsatzszenarien
* Konsistente Benutzererfahrung mit klaren Indikatoren für den Verbindungsstatus
* Optimierte Performance durch angepasste Datenhaltung
* Klare Definition der Funktionalität in jedem Konnektivitätsszenario

== Konsequenzen

* Komplexität bei der Verwaltung verschiedener Verbindungszustände
* Notwendigkeit einer robusten lokalen Datenhaltung im FüKW
* Erhöhter Aufwand für Tests der verschiedenen Verbindungsszenarien
* Klare Benutzerkommunikation über verfügbare Funktionen je nach Verbindungsstatus 
