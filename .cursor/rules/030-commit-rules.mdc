---
description: ENFORCE commit messages formatting with EMOJI(context): short description
globs: 
alwaysApply: false
---
# Commit Message Standards

## Context
- Erstellung und Pflege von Git-Commit-Nachrichten
- Einheitliches Format mit Emojis, Kontext, Titel

## Requirements
1. **Format**
```
<emoji>(<context>): <kurze, prÃ¤gnante Nachricht>

<zusÃ¤tzliche Beschreibung, falls nÃ¶tig>
- <detaillierter Stichpunkt 1>
- <detaillierter Stichpunkt 2>
- <detaillierter Stichpunkt 3>

<optional: ğŸ’¥ BREAKING CHANGE>
```

2. **Mehrzeilige Messages (ERZWUNGEN)**
- **OBLIGATORISCH** fÃ¼r substantielle Ã„nderungen (>3 Dateien oder >50 Zeilen)
- Verwende eine temporÃ¤re Datei (z. B. `commit-message.txt`)
- LÃ¶sche sie nach dem Commit
- Git Hook validiert automatisch Format und LÃ¤nge

3. **Emojis & Versioning**
   - **Major (Breaking):** 
     - ğŸ’¥ (boom) - Breaking Changes, inkompatible API-Ã„nderungen
   
   - **Minor (Features):** 
     - âœ¨ (sparkles) - Neue Features oder grÃ¶ÃŸere Verbesserungen
   
   - **Patch (Fixes und Verbesserungen):** 
     - ğŸ› (bug) - Bugfixes
     - ğŸš‘ (ambulance) - Kritische Hotfixes
     - ğŸ”’ (lock) - Sicherheitsverbesserungen
     - ğŸ§¹ (broom) - Code-Bereinigung, Entfernen von Legacy-Code
     - â™»ï¸ (recycle) - Refactoring ohne FunktionsÃ¤nderung
     - ğŸ”§ (wrench) - KonfigurationsÃ¤nderungen, Tooling-Updates

   - **ZusÃ¤tzliche Emojis (aus .releaserc.js):**
     - ğŸ“¦ (package) - Dependencies aktualisieren
     - ğŸ“ (memo) - Dokumentation aktualisieren
     - ğŸ’„ (lipstick) - UI/Styling-Verbesserungen
     - âš¡ (zap) - Performance-Verbesserungen
     - ğŸ—‘ (wastebasket) - Entfernen von Dateien oder Code
     - ğŸ›  (hammer_and_wrench) - Entwicklungs-Tools oder Skripte
     - ğŸš€ (rocket) - Deployment oder Performance-Verbesserungen
     - ğŸ‰ (tada) - Initiale Commits oder Meilensteine

4. **Kontext**
- z. B. `frontend`, `backend`, `shared`, `deps`, `docs` usw.
- Sollte den Bereich des Projekts klar identifizieren
- Bei globalen Ã„nderungen: `global`, `project` oder `repo`

5. **Detaillierte Stichpunkte**
- FÃ¼ge nach der Hauptnachricht eine Liste mit detaillierten Stichpunkten hinzu
- Beschreibe **was** geÃ¤ndert wurde und **warum**
- Beginne jeden Stichpunkt mit einem Verb im PrÃ¤sens
- Vermeide vage Beschreibungen wie "Fixes" oder "Updates"
- Verweise auf relevante Issue-Nummern mit # (z.B. #123)
- Halte jeden Stichpunkt auf maximal eine Zeile begrenzt

6. **Analyse**
- PrÃ¼fe geÃ¤nderte Dateien
- Identifiziere Art der Ã„nderung (Feature, Bugfix etc.)
- Beachte Breaking Changes

7. **Beispiele**
- `âœ¨(frontend): Neue Kartenfunktion fÃ¼r Einsatzplanung`
- `ğŸ›(backend): Korrigiere Auth-Fehler bei OAuth-Anmeldung`

8. **Enforcement Tools (AUTOMATISCH AKTIVIERT)**
- **Git Hook**: `.git/hooks/commit-msg` validiert alle Commits automatisch
  - PrÃ¼ft Emoji-Format und Context-Format
  - Warnt bei einzeiligen Commits fÃ¼r substantielle Ã„nderungen
  - Verhindert zu lange erste Zeilen (>72 Zeichen)
  - Gibt hilfreiche Fehlermeldungen mit Beispielen
- **Commit Helper**: `git commit-helper` fÃ¼r interaktive Commit-Erstellung
  - Schritt-fÃ¼r-Schritt Anleitung durch korrektes Format
  - Automatische Formatierung und Validierung
  - Emoji-Auswahl mit Beschreibungen
  - Breaking Change UnterstÃ¼tzung
- **Git Alias**: Schnelle Commit-Erstellung via CLI

## Examples

<example>
# Richtig
âœ¨(frontend): Neue Kartenfunktion fÃ¼r Einsatzplanung

Implementiert eine interaktive Karte zur besseren Visualisierung.
- FÃ¼gt OpenStreetMap-Integration fÃ¼r realtime-Tracking hinzu
- Optimiert die Darstellung fÃ¼r mobile GerÃ¤te
- Verbessert die Performance durch Caching von Geo-Daten
- UnterstÃ¼tzt das HinzufÃ¼gen von Custom-Markern #42
</example>

<example>
# Richtig mit Breaking Change
ğŸ’¥(api): Ã„ndere Authentifizierungs-Endpunkte

Die OAuth-Implementierung wurde komplett Ã¼berarbeitet.
- Entfernt veraltete Basic-Auth Endpoints
- Implementiert moderne OAuth2-Flows mit PKCE
- FÃ¼gt Refresh-Token-Rotation fÃ¼r erhÃ¶hte Sicherheit hinzu
- Reduziert Token-Lebensdauer auf 15 Minuten

ğŸ’¥ BREAKING CHANGE: Alle Clients mÃ¼ssen aktualisiert werden, um den neuen Auth-Flow zu nutzen
</example>

<example type="invalid">
# Falsch
Commit: add stuff
</example>

<example type="invalid">
# Falsch
âœ¨: Neue Features

Hier fehlt der Kontext und die Beschreibung ist zu vage.
</example>

## VerfÃ¼gbare Kommandos

### Interaktiver Commit Helper (EMPFOHLEN)
```bash
git commit-helper
# oder
./scripts/commit-helper.sh
```
- FÃ¼hrt durch den gesamten Commit-Prozess
- Automatische Formatierung und Validierung
- Emoji-Auswahl mit Beschreibungen
- Verhindert Formatierungsfehler

### Manuelle Commits (fÃ¼r Experten)
```bash
# Erstelle temporÃ¤re Datei
echo "âœ¨(context): Kurze Beschreibung

Detaillierte Beschreibung hier.
- Stichpunkt 1
- Stichpunkt 2" > commit-message.txt

# Committe und lÃ¶sche Datei
git commit -F commit-message.txt && rm commit-message.txt
```

### Git Hook Bypass (NUR IN NOTFÃ„LLEN)
```bash
# Hook umgehen (nicht empfohlen!)
git commit --no-verify -m "emergency fix"
```

### Commit-Nachricht bearbeiten
```bash
# Letzten Commit bearbeiten
git commit --amend

# Interaktives Rebase fÃ¼r Ã¤ltere Commits
git rebase -i HEAD~3
```

## Semantic Release
Diese Commit-Konventionen werden von unserem Semantic Release System genutzt, um automatisch die Versionsnummer zu erhÃ¶hen und Release Notes zu generieren. Die Emojis bestimmen dabei die Art des Releases:

- Major (Breaking): Inkompatible API-Ã„nderungen (ğŸ’¥)
- Minor: Neue Features (âœ¨)
- Patch: Bugfixes und kleine Verbesserungen (ğŸ›, ï¿½ï¿½, ğŸ”’, ğŸ§¹, â™»ï¸, ğŸ”§)
